C251 COMPILER V5.60.0,  main                                                               31/07/23  12:06:08  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\main.obj
COMPILER INVOKED BY: D:\keil\C251\BIN\C251.EXE ..\src\main.c XSMALL INTR2 BROWSE INCDIR(..\inc) DEBUG PRINT(.\main.lst) 
                    -TABS(2) OBJECT(.\main.obj) 

stmt  level    source

    1          /**
    2           * @author 漆锦东
    3           * @brief 此项目用于ws2812控制板的驱动
    4           * @date 2023/7/24
    5           * **/
    6          
    7          
    8          #include "main.h"
    9          
   10          /******************** 主函数 **************************/
   11          void main(void)
   12          {
   13   1          SYS_Init();
   14   1          LED_OFF();
   15   1      
   16   1          WS2812_RunTask();
   17   1          while (1)
   18   1          {
   19   2          }
   20   1      }
   21          
   22          
   23          //========================================================================
   24          void SYS_Init()
   25          {
   26   1          WTST = 0;  //设置程序指令延时参数，赋值为0可将CPU执行指令的速度设置为最快
   27   1          EAXFR = 1; //扩展寄存器(XFR)访问使能
   28   1          CKCON = 0; //提高访问XRAM速度
   29   1      
   30   1          //IO口配置
   31   1          P1M0 = 0x00; P1M1 = 0x01; 
   32   1          P3M0 = 0x00; P3M1 = 0x00;
   33   1          P5M0 = 0x06; P5M1 = 0x00; 
   34   1      
   35   1          P51 = 0;
   36   1      
   37   1          ADC_Init();
   38   1          UART1_config();    // 选择波特率, 2: 使用Timer2做波特率, 其它值: 使用Timer1做波特率.
   39   1      
   40   1          EA = 1;             //允许全局中断
   41   1      }
   42          
   43          void Delay_ms(unsigned int xms)   //@22.1184MHz
   44          {
   45   1        unsigned long i;
   46   1        unsigned int k;
   47   1          for(k = 0;k<xms ;k++)
   48   1          {
   49   2            _nop_();
   50   2            i = 5528UL;
   51   2            while (i) i--;
   52   2          }
   53   1      
   54   1      }
   55          
   56          void Delay300us()   //@22.1184MHz
   57          {
   58   1        unsigned long i;
C251 COMPILER V5.60.0,  main                                                               31/07/23  12:06:08  PAGE 2   

   59   1      
   60   1        _nop_();
   61   1        _nop_();
   62   1        _nop_();
   63   1        i = 1657UL;
   64   1        while (i) i--;
   65   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =        83     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
